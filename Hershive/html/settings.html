<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hershive</title>
  <link rel="stylesheet" href="../style/home.css"/>
  <link rel="stylesheet" href="../style/settings.css"/>
</head>

<body>
  <div class="top-bar">
    <img src="../assets/logo.png" alt="hershive logo" class="logo">

    <div class="search-bar">
      <input type="text" placeholder="Search">
      <button class="search-button"><img src="../assets/search_icon.png"
        alt="search_icon"></button>
    </div>

    <div class="navigation-icons">
      <button>
        <img src="../assets/home_icon.png" alt="home">
      </button>

      <button>
        <img src="../assets/notification_icon.png" alt="notification">
      </button>

      <button class="menu-button" onclick="toggleDropdown()">â˜°</button>
    </div>
  </div>

  <div id="menu_dropdown" class="hidden">
    <a href="./settings.html" class="menu-dropdown-item">
      <img src="../assets/settings_icon.png" alt="settings">
      Settings
    </a>
    <div onclick="toggleLogout()" class="menu-dropdown-item">
      <img src="../assets/logout_icon.png" alt="logout">
      <p>Log out</p>
    </div>
  </div>

  <div id="logout" hidden>
    <p><strong>Log out of your account?</strong></p>
    <div class="button-holder">
      <button class="cancel-btn" onclick="hideLogout()">Cancel</button>
      <button class="logout-btn" onclick="logout()">Log out</button>
    </div>
  </div>

  <div class="settings-container">
    <div class="sidebar">
      <h2>Settings</h2>
      <button id="personal_details_btn" class="active" onclick="togglePersonalDetails()">Personal details</button>
      <button id="password_btn" class="inactive" onclick="togglePasswordReset()">Password</button>
      <button id="delete_button" class="delete-btn" onclick="deleteAccount()">Delete account</button>
    </div>

    <div id="personal_details">
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="new_email" placeholder="example@example.com">
      </div>
      <div class="form-group">
        <label>Username</label>
        <input type="text" id="new_username" placeholder="@example">
      </div>
      <div class="form-group">
        <label>First Name</label>
        <input type="text" id="new_first_name" placeholder="John">
      </div>
      <div class="form-group">
        <label>Last Name</label>
        <input type="text" id="new_last_name" placeholder="Doe">
      </div>
      <div class="form-group">
        <label>Birthday</label>
        <input type="date" id="new_birthday">
      </div>
      <div class="row">
        <div class="form-group">
          <label>Gender</label>
          <select id="gender">
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
          </select>
        </div>
      </div>
      <button class="save-btn" onclick="saveChanges()">Save</button>
    </div>

    <div id="password" hidden>
      <form id="password_form" onsubmit="updatePassword(event)">
        <div class="form-group">
          <label>Current Password</label>
          <input type="password" id="current_password" required>
          <button type="button"
                  id="toggle_new_pass"
                  onclick="togglePassword('current_password', 'toggle_new_pass')">
            Show
          </button>
        </div>
        <div class="form-group">
          <label>New Password</label>
          <input type="password" 
                id="new_password" 
                oninput="validatePassword()"
                onblur="hideRules()" 
                required>

          <button type="button"
                  id="toggle_new_pass"
                  onclick="togglePassword('new_password', 'toggle_new_pass')">
            Show
          </button>
        </div>

        <ul id="rules" class="rules">
          <li id="length" class="invalid">Minimum 8 characters</li>
          <li id="number" class="invalid">At least one number</li>
          <li id="uppercase" class="invalid">At least one uppercase letter</li>
          <li id="lowercase" class="invalid">At least one lowercase letter</li>
        </ul>

        <div class="form-group">
          <label>Confirm Password</label>
          <input type="password" id="confirm_password" required>
          <button type="button"
                id="toggle_confirm_pass"
                onclick="togglePassword(
                    'confirm_password', 'toggle_confirm_pass'
                )">Show
          </button>
        </div>
        <button type="submit" id="reset_btn" class="save-btn" disabled>Save</button>
      </form>
    </div>

    <div id="delete_account" hidden>
      <h3>Delete account?</h3>
      <p>If you delete your account, all data will be deleted</p>
      <div class="button-holder">
        <button class="cancel-btn" onclick="cancelDelete()">Cancel</button>
        <button class="delete-btn" onclick="confirmDelete()">Delete</button>
      </div>
    </div>
  </div>

  <script src="../script/home.js"></script>
  <script src="../script/settings.js"></script>
  <script src="../script/create_new_password.js"></script>
</body>
</html>